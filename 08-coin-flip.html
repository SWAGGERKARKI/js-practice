<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>08 Coin Flip</title>
</head>
<body>
  <button onclick="
    playGame('heads');
  ">heads</button>

  <button onclick="
    playGame('tails');
  ">tails</button>

  <script>
    // create an object of score
    let score = JSON.parse(localStorage.getItem('score')) || 
    {
      wins: 0,
      losses: 0
    };
    console.log(score);
    // to handle the null value of score
    // for shortcut we can add this by using default operator
    // if (!score) {
    //   score = {
    //     wins: 0,
    //     losses: 0
    //   }
    // }
    // create a function to play game for reusing the code
    function playGame(playerMove) {
      randomNumber = Math.random();
      // guess = playerMove;

      computerFilp = randomNumber > 0.5 ? 'heads' : 'tails';

      result = computerFilp === playerMove ? 'You win.' : 'You lose.'

      if (result === 'You win.') {
        score.wins += 1;
      } else if (result === 'You lose.') {
        score.losses += 1;
      }

      // to store the score in localStorage
      localStorage.setItem('score', JSON.stringify(score));
      console.log(result);
      // console.log(score);
    }
  </script>
</body>
</html>